<!DOCTYPE html >
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>个人博客空间</title>
<meta name="keywords" content="free blog template, blog layout, CSS, HTML" />

<link href="templatemo_style.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" type="text/css" href="contentslider.css" />
<script type="text/javascript" src="contentslider.js"></script>
<script src="jquery-3.4.1.min.js"></script>


</head>
<body>
	<div id="templatemo_header_panel">
    	<div id="templatemo_header_section">
            <div id="templatemo_title_section">个人博客空间</div>
            <div id="templatemo_search_section">
                <form method="get" action="#">
                    
                    <input type="text" name="q" size="10" id="searchfield" title="searchfield" />
                    <input type="submit" name="Search" value="Search" alt="Search" id="searchbutton" title="Search" />
                </form>
            </div>
        </div>
    </div> <!-- end of templatemo header panel -->
    
    <div id="templatemo_menu_panel">
    	<div id="templatemo_menu_section">
           
		</div>
    </div> <!-- end of menu -->
    
	<div id="templatemo_content_container">
        <div id="templatemo_content">
            <div id="templatemo_content_left">
				
                <div id="main_body">
                	<h1>博客链接</h1>
           
                   
                </div> 
                
                <div class="templatemo_post">
                    <div class="post_title">
                      <h2>proFile</h2>
                    </div>
                    
                    
                    <div class="post_body">
                      
                  </div>
              </div>
       
                
            </div> <!-- end of content left -->
        
            <div id="templatemo_content_right">
            
                <div class="templatemo_right_section">
                    <h2>我的签名</h2>
                    <p>签名内容</p>
                </div>
            
            	<div class="templatemo_right_section">
                	<h2>博客导航</h2>
					          <ul>
                        <li><a href="Blog.html">在雨中想你</a></li>
                        
                    </ul>    
                </div>
                
          </div>
            <!-- end of right content -->
	    </div> <!-- end of content -->
    </div> <!-- end of content container -->

	<div id="templatemo_bottom_panel">
	  <!-- end of templatemo bottom section -->
</div> 
	<!-- end of templatemo bottom panel -->
    <!--  HTML CSS Template Designed --> 
    <div id="templatemo_footer_panel">
    	<div id="templatemo_footer_section">
			</div>
    </div>
</body>
<script type="text/javascript">
//alert("1");
 var userid=getQueryVariable("userid")
	//alert(userid)
	showAllBlog(userid);
	function showAllBlog(userid){
		
		var url="http://127.0.0.1:8081/listarticle?userid="+userid;
		//alert(url);
		$.getJSON(url,function(data){
			  //alert(data);
			  
			  var articlesArray = data;
			  var articleName=new Array();
			  var articleId=new Array();
			  //alert(articlesArray);
			  
			  
			 // var obj =JSON.parse(articlesArray);
			  // var obj = eval('('+ articlesArray + ')');
			 // alert(obj);
			  
			 
			  $.each(data,function(idx,obj) {
			  
					var title1=obj.title;
					var time=obj.replyHit;
					
					var articleid=obj.articleid;
					//alert(articleid);
					
					
			
          articleName.push(title1);
          articleId.push(articleid);
    
          
        });
        
        
				for(t=0;t<articleId.length;t++)
				{
					  var a=document.createElement("a");
						var node = document.createTextNode(articleName[t]);
						a.appendChild(node);
						var targetUrl="http://127.0.0.1:8081/blog3.html?id="+articleId[t];
						
						a.setAttribute("href",targetUrl);
						var div=document.getElementById("main_body"); //改为存放标题的DIV
						div.appendChild(a);
						var br = document.createElement("br")
						div.appendChild(br);
				
				
			} 
	
});
		
}


function getQueryVariable(variable)
{
       var query = window.location.search.substring(1);
       var vars = query.split("&");
       for (var i=0;i<vars.length;i++) {
               var pair = vars[i].split("=");
               if(pair[0] == variable){return pair[1];}
       }
       return(false);
}

</script>
